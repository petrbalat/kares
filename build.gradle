buildscript {
    ext {
        kotlinVersion = '1.3.61'
    }
    repositories {
        mavenLocal()
        mavenCentral()
    }
    dependencies {
        classpath("org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}")
    }
}

apply plugin: 'kotlin'

version = '0.4.3'
sourceCompatibility = 1.8
compileJava.options.encoding = 'UTF-8'
compileKotlin {
    kotlinOptions.jvmTarget = "12"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "12"
}

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    compileOnly("org.jetbrains.kotlin:kotlin-stdlib-jdk8:${kotlinVersion}")

    compileOnly("javax.xml.bind:jaxb-api:2.3.0")
//    compileOnly("com.sun.xml.bind:jaxb-core:2.3.0")
//    compileOnly("com.sun.xml.bind:jaxb-impl:2.3.0")

	testCompile("org.jetbrains.kotlin:kotlin-test:${kotlinVersion}")
    testCompile("junit:junit:4.12")
}

apply plugin: 'maven'

configurations {
    deployerJars
}

dependencies {
    deployerJars "org.apache.maven.wagon:wagon-ssh:2.2"
}

uploadArchives {
    repositories {
        mavenDeployer {
            configuration = configurations.deployerJars
            pom.version = version
            pom.artifactId = rootProject.name
            pom.groupId = 'cz.petrbalat'
            repository(url: "https://mymavenrepo.com/repo/v6piJGvJI9cOSjmtzZu6/"){
                authentication(userName: "myMavenRepo", password: "TODO")
            }
        }
    }
}
